<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/views/own-space/own-space.vue</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../index.html">All files</a> / <a href="index.html">src/views/own-space</a> own-space.vue
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/78</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/24</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/24</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/78</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">&lt;style lang="less"&gt;
@import './own-space.less';
&lt;/style&gt;
&nbsp;
&lt;template&gt;
    &lt;div&gt;
        &lt;Card&gt;
            &lt;p slot="title"&gt;
                &lt;Icon type="person"&gt;&lt;/Icon&gt;
                个人信息
            &lt;/p&gt;
            &lt;div&gt;
                &lt;Form ref="userForm" :model="userForm" :label-width="100" label-position="right" &gt;
                    &lt;FormItem label="用户姓名：" prop="name"&gt;
                        &lt;div style="display:inline-block;width:300px;"&gt;
                            &lt;Input v-model="userForm.name"&gt;&lt;/Input&gt;
                        &lt;/div&gt;
                    &lt;/FormItem&gt;
                    &lt;FormItem label="用户手机：" prop="cellphone"&gt;
                        &lt;div style="display:inline-block;width:300px;"&gt;
                            &lt;Input v-model="userForm.cellphone" &gt;&lt;/Input&gt;
                        &lt;/div&gt;
                        &lt;!-- &lt;div style="display:inline-block;position:relative;"&gt;
                                            &lt;Button @click="getIdentifyCode" :disabled="canGetIdentifyCode"&gt;{{ gettingIdentifyCodeBtnContent }}&lt;/Button&gt;
                                            &lt;div class="own-space-input-identifycode-con" v-if="inputCodeVisible"&gt;
                                                &lt;div style="background-color:white;z-index:110;margin:10px;"&gt;
                                                    &lt;Input v-model="securityCode" placeholder="请填写短信验证码" &gt;&lt;/Input&gt;
                                                    &lt;div style="margin-top:10px;text-align:right"&gt;
                                                        &lt;Button type="ghost" @click="cancelInputCodeBox"&gt;取消&lt;/Button&gt;
                                                        &lt;Button type="primary" @click="submitCode" :loading="checkIdentifyCodeLoading"&gt;确定&lt;/Button&gt;
                                                    &lt;/div&gt;
                                                &lt;/div&gt;
                                            &lt;/div&gt;
                                        &lt;/div&gt; --&gt;
                    &lt;/FormItem&gt;
                    &lt;!-- &lt;FormItem label="公司："&gt;
                                        &lt;span&gt;{{ userForm.company }}&lt;/span&gt;
                                    &lt;/FormItem&gt;
                                    &lt;FormItem label="部门："&gt;
                                        &lt;span&gt;{{ userForm.department }}&lt;/span&gt;
                                    &lt;/FormItem&gt; --&gt;
                    &lt;FormItem label="登录密码："&gt;
                        &lt;Button type="primary" size="small" @click="showEditPassword"&gt;修改密码&lt;/Button&gt;
                    &lt;/FormItem&gt;
                    &lt;div&gt;
                     &lt;!--    &lt;Button type="text" style="width: 100px;" @click="cancelEditUserInfor"&gt;取消&lt;/Button&gt;
                        &lt;Button type="primary" style="width: 100px;" :loading="save_loading" @click="saveEdit"&gt;保存&lt;/Button&gt; --&gt;
                    &lt;/div&gt;
                &lt;/Form&gt;
            &lt;/div&gt;
        &lt;/Card&gt;
        &lt;Modal v-model="editPasswordModal" :closable='false' :mask-closable=false :width="500"&gt;
            &lt;h3 slot="header" style="color:#2D8CF0"&gt;修改密码&lt;/h3&gt;
            &lt;Form ref="editPasswordForm" :model="editPasswordForm" :label-width="100" label-position="right" :rules="passwordValidate"&gt;
                &lt;FormItem label="原密码" prop="oldPass" :error="oldPassError"&gt;
                    &lt;Input v-model="editPasswordForm.oldPass" placeholder="请输入现在使用的密码"&gt;&lt;/Input&gt;
                &lt;/FormItem&gt;
                &lt;FormItem label="新密码" prop="newPass"&gt;
                    &lt;Input v-model="editPasswordForm.newPass" placeholder="请输入新密码，至少6位字符"&gt;&lt;/Input&gt;
                &lt;/FormItem&gt;
                &lt;FormItem label="确认新密码" prop="rePass"&gt;
                    &lt;Input v-model="editPasswordForm.rePass" placeholder="请再次输入新密码"&gt;&lt;/Input&gt;
                &lt;/FormItem&gt;
            &lt;/Form&gt;
            &lt;div slot="footer"&gt;
                &lt;Button type="text" @click="cancelEditPass"&gt;取消&lt;/Button&gt;
                &lt;Button type="primary" :loading="savePassLoading" @click="saveEditPass"&gt;保存&lt;/Button&gt;
            &lt;/div&gt;
        &lt;/Modal&gt;
    &lt;/div&gt;
&lt;/template&gt;
&nbsp;
&lt;script&gt;
<span class="cstat-no" title="statement not covered" >import Cookies from 'js-cookie';</span>
<span class="cstat-no" title="statement not covered" >import { API } from '../../services';</span>
export default {
    name: 'ownspace_index',
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >    data() {</span></span>
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >        const validePhone = (rule, value, callback) =&gt; {</span></span>
<span class="cstat-no" title="statement not covered" >            var re = /^1[0-9]{10}$/;</span>
<span class="cstat-no" title="statement not covered" >            if (!re.test(value)) {</span>
<span class="cstat-no" title="statement not covered" >                callback(new Error('请输入正确格式的手机号'));</span>
            } else {
<span class="cstat-no" title="statement not covered" >                callback();</span>
            }
        };
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >        const valideRePassword = (rule, value, callback) =&gt; {</span></span>
<span class="cstat-no" title="statement not covered" >            if (value !== this.editPasswordForm.newPass) {</span>
<span class="cstat-no" title="statement not covered" >                callback(new Error('两次输入密码不一致'));</span>
            } else {
<span class="cstat-no" title="statement not covered" >                callback();</span>
            }
        };
<span class="cstat-no" title="statement not covered" >        return {</span>
            userForm: {
                name: '',
                cellphone: '',
            },
            uid: '',  // 登录用户的userId
            securityCode: '',  // 验证码
            phoneHasChanged: false,  // 是否编辑了手机
            save_loading: false,
            identifyError: '',  // 验证码错误
            editPasswordModal: false, // 修改密码模态框显示
            savePassLoading: false,
            oldPassError: '',
            identifyCodeRight: false,  // 验证码是否正确
            hasGetIdentifyCode: false,  // 是否点了获取验证码
            canGetIdentifyCode: false,  // 是否可点获取验证码
            checkIdentifyCodeLoading: false,
            inforValidate: {
                name: [
                    { required: true, message: '请输入姓名', trigger: 'blur' }
                ],
                cellphone: [
                    { required: true, message: '请输入手机号码' },
                    { validator: validePhone }
                ]
            },
            editPasswordForm: {
                oldPass: '',
                newPass: '',
                rePass: ''
            },
            passwordValidate: {
                oldPass: [
                    { required: true, message: '请输入原密码', trigger: 'blur' }
                ],
                newPass: [
                    { required: true, message: '请输入新密码', trigger: 'blur' },
                    { min: 6, message: '请至少输入6个字符', trigger: 'blur' },
                    { max: 32, message: '最多输入32个字符', trigger: 'blur' }
                ],
                rePass: [
                    { required: true, message: '请再次输入新密码', trigger: 'blur' },
                    { validator: valideRePassword, trigger: 'blur' }
                ]
            },
            inputCodeVisible: false, // 显示填写验证码box
            initPhone: '',
            gettingIdentifyCodeBtnContent: '获取验证码'  // “获取验证码”按钮的文字
        };
    },
    methods: {
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >        getIdentifyCode() {</span></span>
<span class="cstat-no" title="statement not covered" >            this.hasGetIdentifyCode = true;</span>
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >            this.$refs['userForm'].validate((valid) =&gt; {</span></span>
<span class="cstat-no" title="statement not covered" >                if (valid) {</span>
<span class="cstat-no" title="statement not covered" >                    this.canGetIdentifyCode = true;</span>
<span class="cstat-no" title="statement not covered" >                    let timeLast = 60;</span>
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >                    let timer = setInterval(() =&gt; {</span></span>
<span class="cstat-no" title="statement not covered" >                        if (timeLast &gt;= 0) {</span>
<span class="cstat-no" title="statement not covered" >                            this.gettingIdentifyCodeBtnContent = timeLast + '秒后重试';</span>
<span class="cstat-no" title="statement not covered" >                            timeLast -= 1;</span>
                        } else {
<span class="cstat-no" title="statement not covered" >                            clearInterval(timer);</span>
<span class="cstat-no" title="statement not covered" >                            this.gettingIdentifyCodeBtnContent = '获取验证码';</span>
<span class="cstat-no" title="statement not covered" >                            this.canGetIdentifyCode = false;</span>
                        }
                    }, 1000);
<span class="cstat-no" title="statement not covered" >                    this.inputCodeVisible = true;</span>
                    // you can write ajax request here
                }
            });
        },
<span class="fstat-no" title="function not covered" >        showEditPassword() {</span>
<span class="cstat-no" title="statement not covered" >            this.editPasswordModal = true;</span>
        },
<span class="fstat-no" title="function not covered" >        cancelEditUserInfor() {</span>
<span class="cstat-no" title="statement not covered" >            this.$store.commit('removeTag', 'ownspace_index');</span>
<span class="cstat-no" title="statement not covered" >            localStorage.pageOpenedList = JSON.stringify(this.$store.state.app.pageOpenedList);</span>
<span class="cstat-no" title="statement not covered" >            let lastPageName = '';</span>
<span class="cstat-no" title="statement not covered" >            if (this.$store.state.app.pageOpenedList.length &gt; 1) {</span>
<span class="cstat-no" title="statement not covered" >                lastPageName = this.$store.state.app.pageOpenedList[1].name;</span>
            } else {
<span class="cstat-no" title="statement not covered" >                lastPageName = this.$store.state.app.pageOpenedList[0].name;</span>
            }
<span class="cstat-no" title="statement not covered" >            this.$router.push({</span>
                name: lastPageName
            });
        },
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >        saveEdit() {</span></span>
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >            this.$refs['userForm'].validate((valid) =&gt; {</span></span>
<span class="cstat-no" title="statement not covered" >                if (valid) {</span>
<span class="cstat-no" title="statement not covered" >                    if (this.phoneHasChanged &amp;&amp; this.userForm.cellphone !== this.initPhone) {  // 手机号码修改过了而且修改之后的手机号和原来的不一样</span>
<span class="cstat-no" title="statement not covered" >                        if (this.hasGetIdentifyCode) { // 判断是否点了获取验证码</span>
<span class="cstat-no" title="statement not covered" >                            if (this.identifyCodeRight) {  // 判断验证码是否正确</span>
<span class="cstat-no" title="statement not covered" >                                this.saveInfoAjax();</span>
                            } else {
<span class="cstat-no" title="statement not covered" >                                this.$Message.error('验证码错误，请重新输入');</span>
                            }
                        } else {
<span class="cstat-no" title="statement not covered" >                            this.$Message.warning('请先点击获取验证码');</span>
                        }
                    } else {
<span class="cstat-no" title="statement not covered" >                        this.saveInfoAjax();</span>
                    }
                }
            });
        },
<span class="fstat-no" title="function not covered" >        cancelEditPass() {</span>
<span class="cstat-no" title="statement not covered" >            this.editPasswordModal = false;</span>
        },
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >        saveEditPass() {</span></span>
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >            this.$refs['editPasswordForm'].validate((valid) =&gt; {</span></span>
<span class="cstat-no" title="statement not covered" >                if (valid) {</span>
<span class="cstat-no" title="statement not covered" >                    this.savePassLoading = true;</span>
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >                    API.common.change({</span></span>
                        adminId:this.userForm.id,
                        oldPassword: this.editPasswordForm.oldPass,
                        newPassword: this.editPasswordForm.newPass.trim(),
                    }).then((res) =&gt; {
&nbsp;
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >                        setTimeout(() =&gt; {</span></span>
<span class="cstat-no" title="statement not covered" >                            this.savePassLoading = false;</span>
<span class="cstat-no" title="statement not covered" >                            this.$store.commit('logout', this);</span>
<span class="cstat-no" title="statement not covered" >                            this.$store.commit('clearOpenedSubmenu');</span>
<span class="cstat-no" title="statement not covered" >                            this.$router.push({</span>
                                name: 'login'
                            });
                        }, 500);
&nbsp;
<span class="fstat-no" title="function not covered" >                    }).catch((err) =&gt; {</span>
&nbsp;
                    });
                }
            });
        },
<span class="fstat-no" title="function not covered" >        init() {</span>
&nbsp;
&nbsp;
        },
<span class="fstat-no" title="function not covered" >        cancelInputCodeBox() {</span>
<span class="cstat-no" title="statement not covered" >            this.inputCodeVisible = false;</span>
<span class="cstat-no" title="statement not covered" >            this.userForm.cellphone = this.initPhone;</span>
        },
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >        submitCode() {</span></span>
<span class="cstat-no" title="statement not covered" >            let vm = this;</span>
<span class="cstat-no" title="statement not covered" >            vm.checkIdentifyCodeLoading = true;</span>
<span class="cstat-no" title="statement not covered" >            if (this.securityCode.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >                this.$Message.error('请填写短信验证码');</span>
            } else {
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >                setTimeout(() =&gt; {</span></span>
<span class="cstat-no" title="statement not covered" >                    this.$Message.success('验证码正确');</span>
<span class="cstat-no" title="statement not covered" >                    this.inputCodeVisible = false;</span>
<span class="cstat-no" title="statement not covered" >                    this.checkIdentifyCodeLoading = false;</span>
                }, 1000);
            }
        },
<span class="fstat-no" title="function not covered" >        hasChangePhone() {</span>
<span class="cstat-no" title="statement not covered" >            this.phoneHasChanged = true;</span>
<span class="cstat-no" title="statement not covered" >            this.hasGetIdentifyCode = false;</span>
<span class="cstat-no" title="statement not covered" >            this.identifyCodeRight = false;</span>
        },
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >        saveInfoAjax() {</span></span>
<span class="cstat-no" title="statement not covered" >            this.save_loading = true;</span>
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >            setTimeout(() =&gt; {</span></span>
<span class="cstat-no" title="statement not covered" >                this.$Message.success('保存成功');</span>
<span class="cstat-no" title="statement not covered" >                this.save_loading = false;</span>
            }, 1000);
        }
    },
<span class="fstat-no" title="function not covered" >    mounted() {</span>
<span class="cstat-no" title="statement not covered" >        this.init();</span>
<span class="cstat-no" title="statement not covered" >        let baseData = JSON.parse(</span>
            Cookies.get('baseData')
        );
<span class="cstat-no" title="statement not covered" >        this.userForm = {</span>
            id:baseData.adminId,
            name: baseData.relname,
            cellphone: baseData.tel,
        };
    }
};
&lt;/script&gt;
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Fri Mar 09 2018 15:46:08 GMT+0800 (CST)
</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
